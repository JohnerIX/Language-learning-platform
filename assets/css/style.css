body {
    background-color: #f8f9fa;
}
body.dark-mode {
    background-color: #121212;
    color: #ffffff;
}

body.dark-mode nav {
    background-color: #1e1e1e;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
}

.card {
    border-radius: 10px;
    overflow: hidden;
}

.card-header {
    padding: 1.5rem;
}

.g_id_signin {
    margin: 0 auto;
}

/* Responsive adjustments */
@media (max-width: 576px) {
    .card-body {
        padding: 1.5rem;
    }
}

/* Dark Mode Enhancements */
body.dark-mode {
    /* Base colors already set, ensure text is readable */
    color: #e0e0e0; /* Lighter gray for general text */
}

body.dark-mode a {
    color: #66bfff; /* Light blue for links */
}

body.dark-mode a:hover {
    color: #8ccfff;
}

/* Cards */
body.dark-mode .card {
    background-color: #2a2a2a; /* Darker card background */
    border-color: #444;
    color: #e0e0e0;
}

body.dark-mode .card-header {
    background-color: #333;
    border-bottom-color: #444;
    color: #f5f5f5;
}

body.dark-mode .card-footer {
    background-color: #333;
    border-top-color: #444;
}

/* Tables */
body.dark-mode .table {
    color: #e0e0e0;
    border-color: #444;
}

body.dark-mode .table thead th {
    background-color: #333;
    border-color: #444;
    color: #f5f5f5;
}

body.dark-mode .table tbody tr {
    background-color: #2a2a2a;
}

body.dark-mode .table tbody tr:hover {
    background-color: #383838;
}

body.dark-mode .table-striped tbody tr:nth-of-type(odd) {
    background-color: #272727;
}
body.dark-mode .table-striped tbody tr:nth-of-type(even) {
    background-color: #2c2c2c;
}


body.dark-mode .table-bordered th,
body.dark-mode .table-bordered td {
    border-color: #444;
}

/* Forms */
body.dark-mode .form-control {
    background-color: #333;
    color: #e0e0e0;
    border-color: #555;
}

body.dark-mode .form-control:focus {
    background-color: #333;
    color: #e0e0e0;
    border-color: #777;
    box-shadow: 0 0 0 0.25rem rgba(102, 191, 255, 0.25); /* Light blue focus */
}

body.dark-mode .form-select {
    background-color: #333;
    color: #e0e0e0;
    border-color: #555;
}

body.dark-mode .form-check-input {
    background-color: #444;
    border-color: #555;
}

body.dark-mode .form-check-input:checked {
    background-color: #007bff; /* Bootstrap primary blue for checks */
    border-color: #007bff;
}


/* Buttons */
body.dark-mode .btn-primary {
    background-color: #007bff;
    border-color: #007bff;
    color: #ffffff;
}
body.dark-mode .btn-primary:hover {
    background-color: #0056b3;
    border-color: #0056b3;
}

body.dark-mode .btn-secondary {
    background-color: #5a6268;
    border-color: #5a6268;
    color: #ffffff;
}
body.dark-mode .btn-secondary:hover {
    background-color: #494f54;
    border-color: #494f54;
}

body.dark-mode .btn-light {
    background-color: #4e5459; /* Darker light button */
    border-color: #4e5459;
    color: #f0f0f0;
}
body.dark-mode .btn-light:hover {
    background-color: #5d6368;
    border-color: #5d6368;
}

body.dark-mode .btn-dark {
    background-color: #555; /* Lighter dark button */
    border-color: #555;
    color: #fff;
}
body.dark-mode .btn-dark:hover {
    background-color: #666;
    border-color: #666;
}


/* Modals */
body.dark-mode .modal-content {
    background-color: #2a2a2a;
    color: #e0e0e0;
    border-color: #444;
}

body.dark-mode .modal-header {
    background-color: #333;
    border-bottom-color: #444;
}
body.dark-mode .modal-header .btn-close {
    filter: invert(1) grayscale(100%) brightness(200%);
}

body.dark-mode .modal-footer {
    background-color: #333;
    border-top-color: #444;
}

/* Accordion */
body.dark-mode .accordion-button {
    background-color: #333;
    color: #e0e0e0;
}
body.dark-mode .accordion-button:not(.collapsed) {
    background-color: #383838; /* Slightly lighter when open */
    color: #ffffff;
}
body.dark-mode .accordion-button:focus {
    box-shadow: 0 0 0 0.25rem rgba(102, 191, 255, 0.25); /* Light blue focus */
}
body.dark-mode .accordion-item {
    background-color: #2a2a2a;
    border-color: #444;
}
body.dark-mode .accordion-body {
     color: #d0d0d0; /* Slightly lighter text for accordion body */
}


/* List group */
body.dark-mode .list-group-item {
    background-color: #2a2a2a;
    border-color: #444;
    color: #e0e0e0;
}
body.dark-mode .list-group-item-action:hover,
body.dark-mode .list-group-item-action:focus {
    background-color: #383838;
}

/* Nav specific (if needed beyond basic nav style already present) */
body.dark-mode .nav-tabs .nav-link {
    color: #adb5bd;
    border-color: #444 #444 #333;
}
body.dark-mode .nav-tabs .nav-link.active {
    color: #e0e0e0;
    background-color: #333;
    border-color: #444 #444 #333;
}

/* Dropdown menu */
body.dark-mode .dropdown-menu {
    background-color: #2a2a2a;
    border-color: #444;
}
body.dark-mode .dropdown-item {
    color: #e0e0e0;
}
body.dark-mode .dropdown-item:hover,
body.dark-mode .dropdown-item:focus {
    background-color: #383838;
    color: #ffffff;
}
body.dark-mode .dropdown-divider {
    border-top-color: #444;
}

/* Ensure Bootstrap specific dark theme overrides are respected or enhanced */
body.dark-mode .text-dark {
    color: #e0e0e0 !important; /* Override Bootstrap's default dark text */
}
body.dark-mode .text-light {
     color: #f8f9fa !important; /* Ensure light text is truly light */
}
body.dark-mode .bg-light {
    background-color: #333 !important; /* Darken light backgrounds */
}
body.dark-mode .bg-white {
    background-color: #2a2a2a !important; /* Darken white backgrounds */
}

/* Specific for learn.php if needed */
body.dark-mode .sidebar {
    background-color: #1a1a1a !important; /* Even darker sidebar */
    border-right: 1px solid #333;
}
body.dark-mode .sidebar .accordion-button,
body.dark-mode .sidebar .list-group-item {
    background-color: #222 !important; /* Slightly different from main content cards */
    border-color: #383838 !important;
}
body.dark-mode .sidebar .accordion-button:not(.collapsed),
body.dark-mode .sidebar .list-group-item a.active { /* Assuming active lesson links get an 'active' class */
    background-color: #007bff !important; /* Bootstrap primary for active/selected */
    color: #fff !important;
}
body.dark-mode .sidebar .list-group-item:hover a {
    background-color: #333 !important;
}

/* Styling for text content in learn.php's lesson display area */
/* This targets .lesson-content with .bg-black and .text-light within a dark-mode body context */
body.dark-mode div.bg-black.text-light.lesson-content {
    line-height: 1.7;
}

body.dark-mode div.bg-black.text-light.lesson-content h1,
body.dark-mode div.bg-black.text-light.lesson-content h2,
body.dark-mode div.bg-black.text-light.lesson-content h3,
body.dark-mode div.bg-black.text-light.lesson-content h4,
body.dark-mode div.bg-black.text-light.lesson-content h5,
body.dark-mode div.bg-black.text-light.lesson-content h6 {
    color: #66bfff; /* Light blue, consistent with dark mode links */
    margin-top: 1.5em;
    margin-bottom: 0.75em;
}

body.dark-mode div.bg-black.text-light.lesson-content h1 { font-size: 2rem; }
body.dark-mode div.bg-black.text-light.lesson-content h2 { font-size: 1.75rem; }
body.dark-mode div.bg-black.text-light.lesson-content h3 { font-size: 1.5rem; }
body.dark-mode div.bg-black.text-light.lesson-content h4 { font-size: 1.25rem; }

body.dark-mode div.bg-black.text-light.lesson-content p {
    margin-bottom: 1.25em;
    color: #e0e0e0;
}

body.dark-mode div.bg-black.text-light.lesson-content ul,
body.dark-mode div.bg-black.text-light.lesson-content ol {
    margin-bottom: 1.25em;
    padding-left: 1.5em;
}

body.dark-mode div.bg-black.text-light.lesson-content li {
    margin-bottom: 0.5em;
}

body.dark-mode div.bg-black.text-light.lesson-content a {
    color: #8ccfff;
    text-decoration: underline;
}

body.dark-mode div.bg-black.text-light.lesson-content a:hover {
    color: #aaddff;
}

body.dark-mode div.bg-black.text-light.lesson-content blockquote {
    border-left: 4px solid #0d6efd;
    padding-left: 1em;
    margin-left: 0;
    margin-bottom: 1.25em;
    font-style: italic;
    color: #adb5bd;
}

body.dark-mode div.bg-black.text-light.lesson-content pre,
body.dark-mode div.bg-black.text-light.lesson-content code {
    background-color: #212529;
    border: 1px solid #343a40;
    padding: 0.2em 0.4em;
    border-radius: 3px;
    font-family: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    color: #f8f9fa;
}

body.dark-mode div.bg-black.text-light.lesson-content pre {
    padding: 1em;
    overflow-x: auto;
}

body.dark-mode div.bg-black.text-light.lesson-content hr {
    border-top: 1px solid #444;
    margin-top: 2em;
    margin-bottom: 2em;
}

body.dark-mode div.bg-black.text-light.lesson-content img {
    border-radius: 4px;
    margin-top: 1em;
    margin-bottom: 1em;
    display: block; /* Crucial for margin auto and proper block behavior */
    max-width: 100%; /* Already in learn.php style, but good to have here */
    height: auto; /* Maintain aspect ratio, can be overridden by max-height */
    max-height: 70vh; /* Prevent excessively tall images */
    object-fit: contain; /* Ensure image aspect ratio is maintained within bounds */
    margin-left: auto; /* Center images if they are narrower than content area */
    margin-right: auto; /* Center images */
}